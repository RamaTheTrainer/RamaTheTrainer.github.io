{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-8\\\">\\n            <form class=\\\"form form-horizontal\\\">\\n                User name\\n                <input #uName=\\\"ngModel\\\" type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"frmUser\\\" name=\\\"uName\\\" />\\n                <button class=\\\"btn btn-primary\\\" (click)=\\\"btnSignInClick(uName)\\\">SignIn</button> |\\n                <button class=\\\"btn btn-primary\\\" (click)=\\\"btnSignOutClick(uName)\\\">SignOut</button>\\n              <br/> Messages\\n            <br/>\\n            <div style=\\\"height: 300px\\\" >\\n                <div *ngFor=\\\"let m of messages\\\">\\n                    <span>{{m.user}} : </span>\\n                    <span>{{m.msg}}</span>\\n                </div>\\n            </div>\\n            <hr/>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" #msg />\\n            <button class=\\\"btn btn-primary\\\" (click)=\\\"btnSendMessageClick(msg)\\\">Send</button>\\n            \\n        </form>\\n        </div>\\n        <div class=\\\"col-md-4\\\">\\n            <b>User Online </b><br/>\\n             \\n            <select (change)=\\\"userSelect()\\\" size=\\\"20\\\" multiple=\\\"multiple\\\" [(ngModel)]=\\\"toUser\\\" class=\\\"form-control\\\" >\\n                <option *ngFor=\\\"let u of onlineUsers\\\">\\n                    {{u}}\\n                </option>\\n            </select>\\n        </div>\\n    </div>\\n\\n</div>\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport * as io from 'socket.io-client'\nimport { HttpClient } from '@angular/common/http'\nimport { UserService } from './services/user.service';\nimport { Observable, interval } from 'rxjs';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css', '../../node_modules/bootstrap/dist/css/bootstrap.min.css']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n    timer: any;\n    url = \"https://afternoon-sands-94699.herokuapp.com/\"\n    messages: any[] = []\n    private socket;\n    onlineUsers: string[] = [];\n    private toUser: string = \"\";\n    private frmUser: string = \"\";\n    constructor(private ht: HttpClient) {\n        //this.getChatMessage().subscribe((data) => { this.messages.push(data); console.log(data) })\n        this.getNewOnlineUsers().subscribe((data) => { console.log(data) })\n    }\n\n    getOnlineUsesr(): Observable<any> {\n        return this.ht.get(this.url, { responseType: 'json' });\n    }\n    ChatConnect(uname: string) {\n        this.socket = io(this.url, { query: \"userName=\" + uname });\n        this.getChatMessage().subscribe((data) => { console.log(data); this.messages.push(data) })\n    }\n\n    btnSignInClick(unm: any) {\n        this.frmUser = unm.value;\n        //this.onlineUsers.push(this.frmUser)\n        this.ChatConnect(this.frmUser);\n    }\n    GetSelectedUserMessages() {\n             return this.ht.get(this.url + '/' + this.frmUser+ '/' +this.toUser, { responseType: 'json' });\n    }\n    getNewOnlineUsers() {\n        let observable = new Observable<{ user: string }>(\n            observer => {\n                this.socket.on('newUsers', (data) => {\n                    observer.next(data)\n                    alert('New user ..')\n                });\n                return () => { this.socket.disconnect(); }\n            });\n        return observable;\n    }\n    getChatMessage() {\n        let observable = new Observable<{ user: string, msg: string }>(\n            observer => {\n                this.socket.on('sendClient', (data) => {\n                    observer.next(data)\n                });\n                return () => { this.socket.disconnect(); }\n            });\n        return observable;\n    }\n    sendMessage(msg: string, fUser: string, toUser: string) {\n        let nMsg = msg + \"|\" + fUser + \"|\" + toUser;\n        //alert(nMsg)\n        this.socket.emit('addmsg', nMsg);\n\n    }\n\n\n    btnSendMessageClick(msg: any) {\n        //alert(msg.value + this.frmUser + this.toUser);\n        this.messages.push({ user: \"Me\", msg: msg.value });\n        this.sendMessage(msg.value, this.frmUser, this.toUser);\n    }\n    btnSignOutClick() {\n        this.socket.emit('disconnect')\n        this.socket.disconnect();\n        //alert('Disconnected ...')\n    }\n    userSelect() {\n        this.messages.length= 0;\n        let msgs : any;\n        this.GetSelectedUserMessages().subscribe((data)=>{ \n            \n            //\"cno\":1,\"frmuser\":\"Rama\",\"touser\":\"Ramesh\",\"msg\":\"Hello How r u \",\"datetime\":\"2018-07-20\"}\n\n            msgs = data; \n            msgs.forEach(element => {\n                if(element.frmuser==this.frmUser)\n                {\n                    this.messages.push({ user: \"Me\", msg: element.msg });\n                }\n                else\n                {\n                    this.messages.push({ user: element.frmuser, msg: element.msg });\n                }\n            });\n        });\n    }\n    ngOnInit() {\n        // this.getOnlineUsesr().subscribe((data) => {\n        //     data.forEach(element => {\n\n        //         this.onlineUsers.push(element.userName);\n        //     });\n        // });\n\n        interval(20000).subscribe(x => {\n            //this.onlineUsers.length = 0;\n            this.getOnlineUsesr().subscribe((data) => {\n                let i = 0;\n                this.onlineUsers.forEach(element => {\n                    if (!data.includes(element)) {\n                        this.onlineUsers.splice(i, 1)\n                        i--;\n                    }\n                    i++\n                });\n\n                data.forEach(element => {\n                    if (!this.onlineUsers.includes(element.userName)) {\n                        this.onlineUsers.push(element.userName);\n                    }\n                });\n\n            });\n        })\n    }\n   \n    ngOnDestroy() {\n    }\n}","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport {HttpClientModule} from  '@angular/common/http'\nimport {FormsModule} from '@angular/forms'\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule, HttpClientModule, FormsModule\n  ],\n  \n\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */"],"sourceRoot":""}